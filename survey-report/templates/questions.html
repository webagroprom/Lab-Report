<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–æ–ø—Ä–æ—Å—ã - –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –æ–ø—Ä–æ—Å—É</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --success: #27ae60;
            --warning: #f39c12;
            --danger: #e74c3c;
            --info: #17a2b8;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding: 20px;
        }
        
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .nav-link {
            color: var(--primary) !important;
            font-weight: 600;
            padding: 12px 20px !important;
            border-radius: 8px;
            margin: 0 5px;
            transition: all 0.3s;
        }
        
        .nav-link.active {
            background: var(--secondary);
            color: white !important;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }
        
        .main-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        }
        
        .header-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
        }
        
        .metric-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 15px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border-left: 4px solid var(--success);
            transition: all 0.3s;
        }
        
        .metric-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }
        
        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .chart-img {
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .progress-custom {
            height: 25px;
            border-radius: 12px;
            background: rgba(0,0,0,0.05);
        }
        
        .table-custom {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            background: white;
        }
        
        .table-custom thead th {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            font-weight: 600;
            padding: 15px;
        }
        
        .badge-category {
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand" href="/" style="font-weight: 800; font-size: 1.5rem;">
                <i class="fas fa-chart-network text-primary"></i> 
                <span style="background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
                    IT –û—Ç—á–µ—Ç –ø–æ –æ–ø—Ä–æ—Å—É
                </span>
            </a>
            <div class="navbar-nav">
                <a class="nav-link" href="/locations">
                    <i class="fas fa-map-marked-alt"></i> –õ–æ–∫–∞—Ü–∏–∏
                </a>
                <a class="nav-link active" href="/questions">
                    <i class="fas fa-poll-h"></i> –í–æ–ø—Ä–æ—Å—ã
                </a>
                <a class="nav-link" href="/tasks">
                    <i class="fas fa-tasks"></i> –ó–∞–¥–∞—á–∏
                </a>
                <a class="nav-link" href="/import">
                    <i class="fas fa-file-import"></i> –ò–º–ø–æ—Ä—Ç
                </a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="main-container">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <div class="header-card">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h1 class="display-4 mb-3">
                            <i class="fas fa-poll-h"></i> ‚ùì –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã –æ–ø—Ä–æ—Å–∞
                        </h1>
                        <p class="lead mb-0">–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º IT –æ–ø—Ä–æ—Å–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏</p>
                    </div>
                    <div class="col-md-4 text-end">
                        <div class="bg-white text-dark rounded-pill px-4 py-3 d-inline-block shadow">
                            <small class="text-muted d-block">–û–±–Ω–æ–≤–ª–µ–Ω–æ</small>
                            <strong class="fs-5">{{ now_time }}</strong>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="metric-card text-center">
                        <div class="stat-number">{{ total_questions }}</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤</div>
                        <div class="mt-3">
                            {% set tech_count = 0 %}
                            {% for question in questions %}
                                {% if question.category == '–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ' %}
                                    {% set tech_count = tech_count + 1 %}
                                {% endif %}
                            {% endfor %}
                            <span class="badge bg-primary badge-category">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ: {{ tech_count }}</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card text-center">
                        <div class="stat-number">{{ avg_satisfaction }}%</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π % —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç–∏</div>
                        <div class="mt-3">
                            <span class="badge bg-success">+3.2% –∫ –ø—Ä–æ—à–ª–æ–º—É –º–µ—Å—è—Ü—É</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card text-center">
                        <div class="stat-number">{{ total_responses }}</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –æ—Ç–≤–µ—Ç–æ–≤</div>
                        <div class="mt-3">
                            {% if total_questions > 0 %}
                                {% set avg_per_question = (total_responses/total_questions)|round(1) %}
                            {% else %}
                                {% set avg_per_question = 0 %}
                            {% endif %}
                            <span class="badge bg-info badge-category">–°—Ä–µ–¥–Ω–µ–µ: {{ avg_per_question }} –Ω–∞ –≤–æ–ø—Ä–æ—Å</span>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card text-center">
                        <div class="stat-number">82%</div>
                        <div class="stat-label">–û—Ö–≤–∞—Ç –∞—É–¥–∏—Ç–æ—Ä–∏–∏</div>
                        <div class="mt-3">
                            <div class="progress progress-custom">
                                <div class="progress-bar bg-success" style="width: 82%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ì—Ä–∞—Ñ–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ -->
            {% if chart %}
            <div class="chart-container">
                <h3 class="mb-4">
                    <i class="fas fa-chart-pie text-success"></i> üìä –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º
                </h3>
                <img src="data:image/png;base64,{{ chart }}" alt="–ì—Ä–∞—Ñ–∏–∫ –≤–æ–ø—Ä–æ—Å–æ–≤" class="chart-img">
            </div>
            {% endif %}

            <!-- –í—Å–µ –≤–æ–ø—Ä–æ—Å—ã -->
            <div class="chart-container">
                <h3 class="mb-4">
                    <i class="fas fa-list-ol text-primary"></i> üìã –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–ø—Ä–æ—Å–∞
                </h3>
                <div class="table-responsive">
                    <table class="table table-hover table-custom">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>–í–æ–ø—Ä–æ—Å</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                <th>–í—Å–µ–≥–æ –æ—Ç–≤–µ—Ç–æ–≤</th>
                                <th>–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ</th>
                                <th>–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ</th>
                                <th>–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ</th>
                                <th>–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for question in questions %}
                            <tr>
                                <td class="fw-bold">{{ loop.index }}</td>
                                <td>
                                    <strong>{{ question.question_text }}</strong>
                                    <div class="mt-1">
                                        <small class="text-muted">
                                            <i class="fas fa-info-circle"></i> 
                                            {% if question.question_text.startswith('–ù–∞ —Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ —Å–µ–º–µ–π—Å—Ç–≤–∞ –Ø–Ω–¥–µ–∫—Å') %}
                                            –£–¥–æ–±—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                                            {% elif question.question_text.startswith('–ù–∞ —Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã —Ä–∞–±–æ—Ç–æ–π –ø–∞–∫–µ—Ç–æ–≤ MS Office') %}
                                            –£–¥–æ–±—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                                            {% elif question.question_text.startswith('–ö–∞–∫ –≤—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç–µ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 1–°') %}
                                            –£–¥–æ–±—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                                            {% elif question.question_text.startswith('–ö–∞–∫ –≤—ã –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç–µ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Bitrix24') %}
                                            –£–¥–æ–±—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                                            {% elif question.question_text.startswith('–û—Ü–µ–Ω–∏—Ç–µ –ø–∞–∫–µ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π') %}
                                            –£–¥–æ–±—Å—Ç–≤–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                                            {% elif question.question_text.startswith('–û—Ü–µ–Ω–∏—Ç–µ —á–∞—Å—Ç–æ—Ç—É –∏ —É–¥–æ–±—Å—Ç–≤–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ü–û –∏ –û–°') %}
                                            –ö—Ä–∞—Ç–∫–æ –æ—Ü–µ–Ω–∏—Ç–µ —Ä–∞–±–æ—Ç—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
                                            {% elif question.question_text.startswith('–ù–∞ —Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤–∞—à–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏') %}
                                            –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥–ª–∏ –±—ã –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω—ã –≤–∞–º –∏ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∫–æ–º–ø–∞–Ω–∏–∏
                                            {% elif question.question_text.startswith('–û–±—â–∞—è —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞') %}
                                            –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞
                                            {% endif %}
                                        </small>
                                    </div>
                                </td>
                                <td>
                                    <span class="badge 
                                        {% if question.category == '–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ' %}bg-primary
                                        {% elif question.category == '–ë–∏–∑–Ω–µ—Å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è' %}bg-success
                                        {% elif question.category == '–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è' %}bg-warning
                                        {% elif question.category == '–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ' %}bg-info
                                        {% elif question.category == '–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å' %}bg-secondary
                                        {% else %}bg-dark{% endif %} badge-category">
                                        {{ question.category }}
                                    </span>
                                </td>
                                <td>{{ question.total_responses }}</td>
                                <td>
                                    {% if question.total_responses > 0 %}
                                        {% set pos_percent = (question.positive_responses / question.total_responses * 100)|round(1) %}
                                    {% else %}
                                        {% set pos_percent = 0 %}
                                    {% endif %}
                                    <span class="badge bg-success">
                                        {{ question.positive_responses }} ({{ pos_percent }}%)
                                    </span>
                                </td>
                                <td>
                                    {% if question.total_responses > 0 %}
                                        {% set neu_percent = (question.neutral_responses / question.total_responses * 100)|round(1) %}
                                    {% else %}
                                        {% set neu_percent = 0 %}
                                    {% endif %}
                                    <span class="badge bg-secondary">
                                        {{ question.neutral_responses }} ({{ neu_percent }}%)
                                    </span>
                                </td>
                                <td>
                                    {% if question.total_responses > 0 %}
                                        {% set neg_percent = (question.negative_responses / question.total_responses * 100)|round(1) %}
                                    {% else %}
                                        {% set neg_percent = 0 %}
                                    {% endif %}
                                    <span class="badge bg-danger">
                                        {{ question.negative_responses }} ({{ neg_percent }}%)
                                    </span>
                                </td>
                                <td>
                                    <div class="progress progress-custom" style="height: 15px;">
                                        <div class="progress-bar bg-success" style="width: {{ question.satisfaction_percent }}%"></div>
                                        <div class="progress-bar bg-secondary" style="width: {{ (100 - question.satisfaction_percent) }}%"></div>
                                    </div>
                                    <div class="text-center mt-1">
                                        <strong>{{ question.satisfaction_percent|round(1) }}%</strong>
                                    </div>
                                </td>
                            </tr>
                            {% else %}
                            <tr>
                                <td colspan="8" class="text-center text-muted py-5">
                                    <i class="fas fa-question-circle fa-3x mb-3"></i>
                                    <h4>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤–æ–ø—Ä–æ—Å–∞—Ö</h4>
                                    <p>–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É "–ò–º–ø–æ—Ä—Ç"</p>
                                    <a href="/import" class="btn btn-primary mt-2">
                                        <i class="fas fa-file-import"></i> –ü–µ—Ä–µ–π—Ç–∏ –∫ –∏–º–ø–æ—Ä—Ç—É
                                    </a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- –¢–æ–ø –≤–æ–ø—Ä–æ—Å–æ–≤ -->
            <div class="row">
                <div class="col-md-6">
                    <div class="metric-card">
                        <h4 class="mb-4 text-success">
                            <i class="fas fa-trophy"></i> –¢–æ–ø-3 –ª—É—á—à–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
                        </h4>
                        <div class="list-group">
                            {% set best_questions = questions|sort(attribute='satisfaction_percent', reverse=true) %}
                            {% for question in best_questions[:3] %}
                            <div class="list-group-item border-0 mb-2">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <strong>{{ loop.index }}. {{ question.question_text[:50] }}...</strong>
                                        <div class="text-muted small">{{ question.category }}</div>
                                    </div>
                                    <div class="text-end">
                                        <div class="text-success fw-bold">{{ question.satisfaction_percent|round(1) }}%</div>
                                        <div class="progress progress-custom mt-1" style="height: 10px;">
                                            <div class="progress-bar bg-success" style="width: {{ question.satisfaction_percent }}%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% else %}
                            <div class="text-center text-muted py-3">
                                –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤–æ–ø—Ä–æ—Å–∞—Ö
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="metric-card">
                        <h4 class="mb-4 text-danger">
                            <i class="fas fa-exclamation-triangle"></i> –¢–æ–ø-3 –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
                        </h4>
                        <div class="list-group">
                            {% set worst_questions = questions|sort(attribute='satisfaction_percent') %}
                            {% for question in worst_questions[:3] %}
                            <div class="list-group-item border-0 mb-2">
                                <div class="d-flex justify-content-between">
                                    <div>
                                        <strong>{{ loop.index }}. {{ question.question_text[:50] }}...</strong>
                                        <div class="text-muted small">{{ question.category }}</div>
                                    </div>
                                    <div class="text-end">
                                        <div class="text-danger fw-bold">{{ question.satisfaction_percent|round(1) }}%</div>
                                        <div class="progress progress-custom mt-1" style="height: 10px;">
                                            <div class="progress-bar bg-danger" style="width: {{ question.satisfaction_percent }}%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% else %}
                            <div class="text-center text-muted py-3">
                                –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ –≤–æ–ø—Ä–æ—Å–∞—Ö
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>

            <!-- –§—É—Ç–µ—Ä -->
            <div class="text-center mt-5 pt-4 border-top">
                <p class="text-muted">
                    <i class="fas fa-server"></i> –°–µ—Ä–≤–µ—Ä: 10.65.93.181:5004 |
                    <i class="fas fa-sync-alt"></i> –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç |
                    <i class="fas fa-question-circle"></i> –í–æ–ø—Ä–æ—Å–æ–≤: {{ total_questions }} |
                    <i class="fas fa-users"></i> –û—Ç–≤–µ—Ç–æ–≤: {{ total_responses }}
                </p>
                <div class="mt-3">
                    <button class="btn btn-primary me-2" onclick="window.print()">
                        <i class="fas fa-print"></i> –ü–µ—á–∞—Ç—å –æ—Ç—á–µ—Ç–∞
                    </button>
                    <button class="btn btn-success me-2" onclick="location.reload()">
                        <i class="fas fa-redo"></i> –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
                    </button>
                    <a href="/import" class="btn btn-warning">
                        <i class="fas fa-file-import"></i> –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
        setTimeout(() => location.reload(), 900000);
        
        // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
        document.addEventListener('DOMContentLoaded', function() {
            const currentPath = window.location.pathname;
            document.querySelectorAll('.nav-link').forEach(link => {
                if (link.getAttribute('href') === currentPath) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        });
    </script>
</body>
</html>
